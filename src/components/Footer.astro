---
import { githubLink, instagramLink, linkedinLink } from '@lib/constants';
import { Icon } from 'astro-icon/components';
---

<footer class="content-container tracking-wider pt-8 text-center md:text-left mt-20">
  <hr class="my-2" />
  <div class="flex flex-col flex-wrap md:flex-row md:flex-nowrap md:items-center lg:items-start py-2 mx-14">
    <div class="m-6 flex flex-grow md:mt-0 md:pl-20">
      <div class="w-full p-4 px-4 md:w-1/2 lg:w-1/2">
        <div class="flex flex-col gap-4 text-white">
          <a class="flex gap-4 items-center" href={githubLink} target="_blank">
            <Icon name="mdi:github" size={30} />
            <span>GitHub</span>
          </a>
          <a class="flex gap-4 items-center" href={linkedinLink} target="_blank">
            <Icon name="mdi:linkedin" size={30} />
            <span>LinkedIn</span>
          </a>
          <a class="flex gap-4 items-center" href={instagramLink} target="_blank">
            <Icon name="mdi:instagram" size={30} />
            <span>Instagram</span>
          </a>
        </div>
      </div>
    </div>

    <div class="mx-10 flex flex-shrink-0 flex-col gap-2 text-white md:w-1/3 md:items-start">
      <b class="pt-4 ">ACE</b>
      <p>Department of CSE</p>
      <p class="">NMAM Institute of Technology, Nitte, Karkala Taluk, Udupi-574110 Karnataka, India</p>
    </div>
  </div>
  <hr class="my-2" />
  <div class="text-white flex justify-between my-4 mx-14">
    <p class="px-5 py-5 text-start">
      ACE Â© {new Date().getFullYear()}
    </p>
    <img src="images/top-button.svg" alt="top" class="" />
  </div>
</footer>

<div class="torch relative w-full h-fit hidden md:block mb-4">
  <img src="images/aceweb2.png" alt="" class="object-center torch-img w-auto mx-auto object-fill" />
</div>

<style>
  .torch {
    --x: 0%;
    --y: 0%;
    --radius: 10%;
    --mask-color: rgba(255, 0, 0, 0.045);
    mask-image: radial-gradient(circle at 0 0, rgba(19, 21, 26, 0.95) 0, var(--mask-color) 20%);
    mask-size: cover;
  }
  .torch:hover {
    mask-image: radial-gradient(
      circle at calc(var(--x) + 1.5 * var(--radius)) calc(var(--y) + (var(--radius) / 2)),
      rgba(19, 21, 26, 0.95) var(--radius),
      var(--mask-color) 20%
    );
    cursor: url('images/torch.png'), auto;
  }
  .torch img {
    mask-image: repeating-linear-gradient(
      180deg,
      rgba(0, 0, 0, 1) 0,
      rgba(0, 0, 0, 1) 10px,
      rgba(0, 0, 0, 0) 10px,
      rgba(0, 0, 0, 0) 20px
    );
  }
</style>

<script>
  document.addEventListener('astro:page-load', () => {
    const torchDiv = document.querySelector<HTMLDivElement>('.torch');
    torchDiv?.addEventListener('mousemove', (e) => {
      const xPercentage = Math.round((e.offsetX / torchDiv.getBoundingClientRect().width) * 100);
      const yPercentage = Math.round((e.offsetY / torchDiv.getBoundingClientRect().height) * 100);
      torchDiv.style.setProperty('--x', `${xPercentage}%`);
      torchDiv.style.setProperty('--y', `${yPercentage}%`);
    });
  });
</script>
